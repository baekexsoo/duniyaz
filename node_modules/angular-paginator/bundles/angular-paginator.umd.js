(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('angular-paginator', ['exports', '@angular/core', 'rxjs', '@angular/common'], factory) :
    (factory((global['angular-paginator'] = {}),global.ng.core,global.rxjs,global.ng.common));
}(this, (function (exports,core,rxjs,common) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AngularPaginatorService = /** @class */ (function () {
        function AngularPaginatorService() {
            /**
             * id is used to identify pagination instances
             */
            this.id = 'ANGULAR_PAGINATOR_DEFAULT';
            /**
             * instances is the collection of pagination componetns
             */
            this.instances = {};
            /**
             * emits an event with instance id whenever the page number changes
             */
            this.change = new core.EventEmitter();
        }
        /**
         * creates an instance for every pipe differentiated with id
         *
         * @param instance each instance refers to a unique pagination component
         */
        /**
         * creates an instance for every pipe differentiated with id
         *
         * @param {?} instance each instance refers to a unique pagination component
         * @return {?}
         */
        AngularPaginatorService.prototype.registerInstance = /**
         * creates an instance for every pipe differentiated with id
         *
         * @param {?} instance each instance refers to a unique pagination component
         * @return {?}
         */
            function (instance) {
                if (!this.instances[instance.id]) {
                    this.instances[instance.id] = instance;
                    this.change.emit(instance.id);
                }
                else {
                    /** @type {?} */
                    var changed = this.updateInstance(instance);
                    if (changed) {
                        this.change.emit(instance.id);
                    }
                }
                return;
            };
        /**
         * updates existing pagination instances available
         * and returns true if value has changed
         *
         * @param instance an unique pagination component
         */
        /**
         * updates existing pagination instances available
         * and returns true if value has changed
         *
         * @param {?} instance an unique pagination component
         * @return {?}
         */
        AngularPaginatorService.prototype.updateInstance = /**
         * updates existing pagination instances available
         * and returns true if value has changed
         *
         * @param {?} instance an unique pagination component
         * @return {?}
         */
            function (instance) {
                for (var key in instance) {
                    if (instance[key] !== this.instances[instance['id']][key]) {
                        this.instances[instance['id']][key] = instance[key];
                        return true;
                    }
                }
                return false;
            };
        /**
         * return instance with given id
         *
         * @param id unique id of the pagination component
         */
        /**
         * return instance with given id
         *
         * @param {?} id unique id of the pagination component
         * @return {?}
         */
        AngularPaginatorService.prototype.getInstance = /**
         * return instance with given id
         *
         * @param {?} id unique id of the pagination component
         * @return {?}
         */
            function (id) {
                return this.instances[id];
            };
        /**
         * return currentPage for given id
         *
         * @param id unique id of the pagination component
         */
        /**
         * return currentPage for given id
         *
         * @param {?} id unique id of the pagination component
         * @return {?}
         */
        AngularPaginatorService.prototype.getCurrentPage = /**
         * return currentPage for given id
         *
         * @param {?} id unique id of the pagination component
         * @return {?}
         */
            function (id) {
                return this.instances[id].currentPage;
            };
        AngularPaginatorService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        AngularPaginatorService.ctorParameters = function () { return []; };
        return AngularPaginatorService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * The component that renders the Pagination component template, It also accepts the inputs for the Pagination component
     */
    var AngularPaginatorComponent = /** @class */ (function () {
        /**
         *
         * @param _angularPaginatorService service for angular paginator
         */
        function AngularPaginatorComponent(_angularPaginatorService) {
            this._angularPaginatorService = _angularPaginatorService;
            /**
             * Whether to display First / Last buttons
             */
            this.boundaryLinks = false;
            /**
             * Whether to display Previous / Next buttons
             */
            this.directionLinks = true;
            /**
             * Limit number for pagination size, i.e., the maximum page numbers to be displayed
             */
            this.maxSize = 5;
            /**
             * Whether to keep current page in the middle of the visible ones
             */
            this.rotate = true;
            /**
             * Whether to always display the first and last page numbers.
             * If max-size is smaller than the number of pages, then the first and last page numbers are still shown with ellipses
             * in-between as necessary. NOTE: max-size refers to the center of the range.
             * This option may add up to 2 more numbers on each side of the displayed range for the end value and
             * what would be an ellipsis but is replaced by a number because it is sequential
             */
            this.boundaryLinkNumbers = false;
            /**
             * Also displays ellipses when rotate is true and maxSize is smaller than the number of pages forceEllipses
             */
            this.forceEllipses = false;
            /**
             * Text for first button
             */
            this.firstText = 'First';
            /**
             * Text for previous button
             */
            this.previousText = 'Previous';
            /**
             * Text for next button
             */
            this.nextText = 'Next';
            /**
             * Text for last button
             */
            this.lastText = 'Last';
            /**
             * Screen reader text for first button
             */
            this.screenReaderFirstText = 'First';
            /**
             * Screen reader text for previous button
             */
            this.screenReaderPreviousText = 'Previous';
            /**
             * Screen reader text for next button
             */
            this.screenReaderNextText = 'Next';
            /**
             * Screen reader text for lasr button
             */
            this.screenReaderLastText = 'Last';
            /**
             * Screen reader text for page numbers
             */
            this.screenReaderPageText = 'Page';
            /**
             * Screen reader text for current page
             */
            this.screenReaderCurrentPageText = 'You`re on page';
            /**
             * Screen reader text for the pagination component
             */
            this.screenReaderPaginationLabel = 'Pagination';
            /**
             * Hides the pagination component if the items are less than `itemsPerPage`
             */
            this.autoHide = false;
            /**
             * disables pagination component
             */
            this.disabled = false;
            /**
             * Emits an event whenever the current page is changed, It emits the current page number
             *
             * This event is originally picked up from `AngularPaginatorDirective`
             */
            this.pageChange = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        AngularPaginatorComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                // set default id if not provided
                this.id = this.id ? this.id : this._angularPaginatorService.id;
                // set default class if not provided
                this.className = this.className ? this.className : this._angularPaginatorService.id;
            };
        AngularPaginatorComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'app-angular-paginator',
                        template: "<appAngularPaginator [id]=\"id\" [boundaryLinks]=\"boundaryLinks\" [directionLinks]=\"directionLinks\" [maxSize]=\"maxSize\"\n  [rotate]=\"rotate\" [boundaryLinkNumbers]=\"boundaryLinkNumbers\" [forceEllipses]=\"forceEllipses\" #paginator=\"angularPaginator\"\n  (pageChange)=\"pageChange.emit($event)\">\n\n  <!-- ======================================== BOOTSTRAP 4 TEMPLATE ======================================== -->\n  <ng-container *ngIf=\"!(autoHide && paginator.pages['length'] <= 1)\">\n    <nav class=\"angular-bs4-pagination\" [attr.aria-label]=\"screenReaderPaginationLabel\">\n\n      <ng-container *ngIf=\"paginator.pages['length'] !== 0\">\n        <ul class=\"pagination\" [ngClass]=\"className\">\n\n          <!-- boundary link -->\n          <li class=\"page-item\" *ngIf=\"boundaryLinks\" (click)=\"paginator.toFirstPage()\" [ngClass]=\"{'disabled': (paginator.currentPage === paginator.firstPage) || disabled}\">\n            <a class=\"page-link\" href=\"javascript:void(0)\">\n              <span aria-hidden=\"true\" [innerHTML]=\"firstText\"></span>\n              <span class=\"sr-only\">{{ screenReaderFirstText }}</span>\n            </a>\n          </li>\n\n          <!-- direction link -->\n          <li class=\"page-item\" *ngIf=\"directionLinks\" (click)=\"paginator.toPreviousPage()\" [ngClass]=\"{'disabled': (paginator.currentPage === paginator.firstPage) || disabled}\">\n            <a class=\"page-link\" href=\"javascript:void(0)\">\n              <span aria-hidden=\"true\" [innerHTML]=\"previousText\"></span>\n              <span class=\"sr-only\">{{ screenReaderPreviousText }}</span>\n            </a>\n          </li>\n\n          <!-- pagination array -->\n          <li class=\"page-item\" *ngFor=\"let page of paginator.pages\" [ngClass]=\"{'active': page['active'], 'disabled': disabled}\"\n            (click)=\"!page['active'] && paginator.setCurrentPage(page['number'])\">\n            <a href=\"javascript:void(0)\" class=\"page-link\">\n              {{ page['text'] }}\n              <span class=\"sr-only\" *ngIf=\"!page['active']\">{{ screenReaderPageText + ' ' }}{{ page['text'] }}</span>\n              <span class=\"sr-only\" *ngIf=\"page['active']\">{{ screenReaderCurrentPageText + ' ' }}{{ page['text'] }}</span>\n            </a>\n          </li>\n\n          <!-- direction link -->\n          <li class=\"page-item\" *ngIf=\"directionLinks\" (click)=\"paginator.toNextPage()\" [ngClass]=\"{'disabled': (paginator.currentPage === paginator.lastPage) || disabled}\">\n            <a class=\"page-link\" href=\"javascript:void(0)\">\n              <span aria-hidden=\"true\" [innerHTML]=\"nextText\"></span>\n              <span class=\"sr-only\">{{ screenReaderNextText }}</span>\n            </a>\n          </li>\n\n          <!-- boundary link -->\n          <li class=\"page-item\" *ngIf=\"boundaryLinks\" (click)=\"paginator.toLastPage()\" [ngClass]=\"{'disabled': (paginator.currentPage === paginator.lastPage) || disabled}\">\n            <a class=\"page-link\" href=\"javascript:void(0)\">\n              <span aria-hidden=\"true\" [innerHTML]=\"lastText\"></span>\n              <span class=\"sr-only\">{{ screenReaderLastText }}</span>\n            </a>\n          </li>\n\n        </ul>\n      </ng-container>\n\n    </nav>\n  </ng-container>\n\n</appAngularPaginator>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        styles: [".angular-bs4-pagination .disabled{pointer-events:none}"]
                    }] }
        ];
        /** @nocollapse */
        AngularPaginatorComponent.ctorParameters = function () {
            return [
                { type: AngularPaginatorService }
            ];
        };
        AngularPaginatorComponent.propDecorators = {
            boundaryLinks: [{ type: core.Input }],
            directionLinks: [{ type: core.Input }],
            maxSize: [{ type: core.Input }],
            rotate: [{ type: core.Input }],
            boundaryLinkNumbers: [{ type: core.Input }],
            forceEllipses: [{ type: core.Input }],
            id: [{ type: core.Input }],
            firstText: [{ type: core.Input }],
            previousText: [{ type: core.Input }],
            nextText: [{ type: core.Input }],
            lastText: [{ type: core.Input }],
            screenReaderFirstText: [{ type: core.Input }],
            screenReaderPreviousText: [{ type: core.Input }],
            screenReaderNextText: [{ type: core.Input }],
            screenReaderLastText: [{ type: core.Input }],
            screenReaderPageText: [{ type: core.Input }],
            screenReaderCurrentPageText: [{ type: core.Input }],
            screenReaderPaginationLabel: [{ type: core.Input }],
            className: [{ type: core.Input }],
            autoHide: [{ type: core.Input }],
            disabled: [{ type: core.Input }],
            pageChange: [{ type: core.Output }]
        };
        return AngularPaginatorComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * Pagination Pipe which paginates the array for the provided arguments such as `itemsPerPage` and `currentPage`
     */
    var AngularPaginatorPipe = /** @class */ (function () {
        /**
         *
         * @param _angularPaginatorService service for angular pagiantor
         */
        function AngularPaginatorPipe(_angularPaginatorService) {
            this._angularPaginatorService = _angularPaginatorService;
        }
        /**
         * this pipes paginates the array for the provided arguments such as `itemsPerPage` and `currentPage`
         *
         * @param array input array for which the manipulation happens
         * @param args input arguments for the paginator pipe
         */
        /**
         * this pipes paginates the array for the provided arguments such as `itemsPerPage` and `currentPage`
         *
         * @param {?} array input array for which the manipulation happens
         * @param {?=} args input arguments for the paginator pipe
         * @return {?}
         */
        AngularPaginatorPipe.prototype.transform = /**
         * this pipes paginates the array for the provided arguments such as `itemsPerPage` and `currentPage`
         *
         * @param {?} array input array for which the manipulation happens
         * @param {?=} args input arguments for the paginator pipe
         * @return {?}
         */
            function (array, args) {
                /** @type {?} */
                var instance = this.createInstance(array, args);
                // create pagination information
                this._angularPaginatorService.registerInstance(instance);
                /** @type {?} */
                var start = (instance.currentPage - 1) * instance.itemsPerPage;
                /** @type {?} */
                var end = instance.currentPage * instance.itemsPerPage;
                return array.slice(start, end);
            };
        /**
         * create an instance for each pipe
         *
         * @param array input array for which the manipulation happens
         * @param args input arguments for the paginator pipe
         */
        /**
         * create an instance for each pipe
         *
         * @param {?} array input array for which the manipulation happens
         * @param {?} args input arguments for the paginator pipe
         * @return {?}
         */
        AngularPaginatorPipe.prototype.createInstance = /**
         * create an instance for each pipe
         *
         * @param {?} array input array for which the manipulation happens
         * @param {?} args input arguments for the paginator pipe
         * @return {?}
         */
            function (array, args) {
                return {
                    id: args['id'] ? args.id : this._angularPaginatorService.id,
                    currentPage: args['currentPage'] ? args['currentPage'] : 1,
                    itemsPerPage: args['itemsPerPage'] ? args['itemsPerPage'] : 10,
                    totalItems: array['length']
                };
            };
        AngularPaginatorPipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'angularPaginator'
                    },] }
        ];
        /** @nocollapse */
        AngularPaginatorPipe.ctorParameters = function () {
            return [
                { type: AngularPaginatorService }
            ];
        };
        return AngularPaginatorPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * This is the directive where the actual pagination takes place, it provides a sync between the
     * pipes and the pagination component
     */
    var AngularPaginatorDirective = /** @class */ (function () {
        /**
         *
         * @param _angularPaginatorService serivce for angular paginator
         * @param _changeDetectorRef for manual change detection
         */
        function AngularPaginatorDirective(_angularPaginatorService, _changeDetectorRef) {
            var _this = this;
            this._angularPaginatorService = _angularPaginatorService;
            this._changeDetectorRef = _changeDetectorRef;
            this.firstPage = 1;
            this.pages = [];
            this.subscription = new rxjs.Subject();
            /**
             * Emits an event whenever the current page is changed, It emits the current page number
             */
            this.pageChange = new core.EventEmitter(true);
            // subscribe to changes
            this.subscription = this._angularPaginatorService.change.subscribe(function (id) {
                if (id === _this.id) {
                    _this.updatePages();
                    _this._changeDetectorRef.markForCheck();
                }
            });
        }
        /**
         * Navigate to prevoius page
         */
        /**
         * Navigate to prevoius page
         * @return {?}
         */
        AngularPaginatorDirective.prototype.toPreviousPage = /**
         * Navigate to prevoius page
         * @return {?}
         */
            function () {
                if (this.currentPage > this.firstPage) {
                    this.setCurrentPage(this.currentPage - 1);
                }
                return;
            };
        /**
         * Navigate to next page
         */
        /**
         * Navigate to next page
         * @return {?}
         */
        AngularPaginatorDirective.prototype.toNextPage = /**
         * Navigate to next page
         * @return {?}
         */
            function () {
                if (this.currentPage < this.lastPage) {
                    this.setCurrentPage(this.currentPage + 1);
                }
                return;
            };
        /**
         * Navigate to first page
         */
        /**
         * Navigate to first page
         * @return {?}
         */
        AngularPaginatorDirective.prototype.toFirstPage = /**
         * Navigate to first page
         * @return {?}
         */
            function () {
                this.setCurrentPage(this.firstPage);
                return;
            };
        /**
         * Navigate to last page
         */
        /**
         * Navigate to last page
         * @return {?}
         */
        AngularPaginatorDirective.prototype.toLastPage = /**
         * Navigate to last page
         * @return {?}
         */
            function () {
                this.setCurrentPage(this.lastPage);
                return;
            };
        /**
         * Sets current page
         *
         * @param page page number to set as currentPage
         */
        /**
         * Sets current page
         *
         * @param {?} page page number to set as currentPage
         * @return {?}
         */
        AngularPaginatorDirective.prototype.setCurrentPage = /**
         * Sets current page
         *
         * @param {?} page page number to set as currentPage
         * @return {?}
         */
            function (page) {
                if (page && this.currentPage !== page) {
                    this.currentPage = page;
                    this.pageChange.emit(page);
                }
                return;
            };
        /**
         * create page object used for template
         *
         * @param number page number
         * @param text page number, text to be displayed
         * @param isActive whether the page is active or not, true for currentPage
         */
        /**
         * create page object used for template
         *
         * @param {?} number page number
         * @param {?} text page number, text to be displayed
         * @param {?} isActive whether the page is active or not, true for currentPage
         * @return {?}
         */
        AngularPaginatorDirective.prototype.makePage = /**
         * create page object used for template
         *
         * @param {?} number page number
         * @param {?} text page number, text to be displayed
         * @param {?} isActive whether the page is active or not, true for currentPage
         * @return {?}
         */
            function (number, text, isActive) {
                return {
                    number: number,
                    text: text,
                    active: isActive
                };
            };
        /**
         *  create page array
         *
         * @param currentPage current page number
         * @param itemsPerPage total items per page
         * @param totalItems no of items for pagination, usually array length
         */
        /**
         *  create page array
         *
         * @param {?} currentPage current page number
         * @param {?} itemsPerPage total items per page
         * @param {?} totalItems no of items for pagination, usually array length
         * @return {?}
         */
        AngularPaginatorDirective.prototype.getPages = /**
         *  create page array
         *
         * @param {?} currentPage current page number
         * @param {?} itemsPerPage total items per page
         * @param {?} totalItems no of items for pagination, usually array length
         * @return {?}
         */
            function (currentPage, itemsPerPage, totalItems) {
                /** @type {?} */
                var pages = [];
                /** @type {?} */
                var totalPages = this.lastPage = Math.ceil(totalItems / itemsPerPage);
                /** @type {?} */
                var startPage = 1;
                /** @type {?} */
                var endPage = totalPages;
                /** @type {?} */
                var isMaxSized = this.maxSize && this.maxSize < totalPages;
                // recompute if maxSize
                if (isMaxSized) {
                    if (this.rotate) {
                        // current page is displayed in the middle of the visible ones
                        startPage = Math.max(currentPage - Math.floor(this.maxSize / 2), 1);
                        endPage = startPage + this.maxSize - 1;
                        // Adjust if limit is exceeded
                        if (endPage > totalPages) {
                            endPage = totalPages;
                            startPage = endPage - this.maxSize + 1;
                        }
                    }
                    else {
                        // Visible pages are paginated with maxSize
                        startPage = (Math.ceil(currentPage / this.maxSize) - 1) * this.maxSize + 1;
                        // adjust last page if limit is exceeded
                        endPage = Math.min(startPage + this.maxSize - 1, totalPages);
                    }
                }
                // add page number links
                for (var number = startPage; number <= endPage; number++) {
                    /** @type {?} */
                    var page = this.makePage(number, number, number === currentPage);
                    pages.push(page);
                }
                // add links to move between page sets
                if (isMaxSized && this.maxSize > 0 && (!this.rotate || this.forceEllipses || this.boundaryLinkNumbers)) {
                    if (startPage > 1) {
                        if (!this.boundaryLinkNumbers || startPage > 3) { // need ellipsis for all options unless range is too close to beginning
                            /** @type {?} */
                            var previousPageSet = this.makePage(startPage - 1, '...', false);
                            pages.unshift(previousPageSet);
                        }
                        if (this.boundaryLinkNumbers) {
                            if (startPage === 3) { // need to replace ellipsis when the buttons would be sequential
                                /** @type {?} */
                                var secondPageLink = this.makePage(2, '2', false);
                                pages.unshift(secondPageLink);
                            }
                            /** @type {?} */
                            var firstPageLink = this.makePage(1, '1', false);
                            pages.unshift(firstPageLink);
                        }
                    }
                    if (endPage < totalPages) {
                        if (!this.boundaryLinkNumbers || endPage < totalPages - 2) { // need ellipsis for all options unless range is too close to end
                            /** @type {?} */
                            var nextPageSet = this.makePage(endPage + 1, '...', false);
                            pages.push(nextPageSet);
                        }
                        if (this.boundaryLinkNumbers) {
                            if (endPage === totalPages - 2) { // need to replace ellipsis when the buttons would be sequential
                                /** @type {?} */
                                var secondToLastPageLink = this.makePage(totalPages - 1, totalPages - 1, false);
                                pages.push(secondToLastPageLink);
                            }
                            /** @type {?} */
                            var lastPageLink = this.makePage(totalPages, totalPages, false);
                            pages.push(lastPageLink);
                        }
                    }
                }
                return pages;
            };
        /**
         * Updates the pagination component
         */
        /**
         * Updates the pagination component
         * @return {?}
         */
        AngularPaginatorDirective.prototype.updatePages = /**
         * Updates the pagination component
         * @return {?}
         */
            function () {
                /** @type {?} */
                var instance = this._angularPaginatorService.getInstance(this.id);
                /** @type {?} */
                var correctedCurrentPage = this.outOfBoundCorrection(instance);
                if (correctedCurrentPage !== instance['currentPage'] || this.currentPage !== instance['currentPage']) {
                    this.setCurrentPage(correctedCurrentPage);
                }
                this.pages = this.getPages(instance.currentPage, instance.itemsPerPage, instance.totalItems);
                return;
            };
        /**
         * Check if currentPage is out of bound with totalPages
         *
         * @param instance instance for which the range is to be corrected
         */
        /**
         * Check if currentPage is out of bound with totalPages
         *
         * @param {?} instance instance for which the range is to be corrected
         * @return {?}
         */
        AngularPaginatorDirective.prototype.outOfBoundCorrection = /**
         * Check if currentPage is out of bound with totalPages
         *
         * @param {?} instance instance for which the range is to be corrected
         * @return {?}
         */
            function (instance) {
                /** @type {?} */
                var totalPages = Math.ceil(instance['totalItems'] / instance['itemsPerPage']);
                if (totalPages < instance['currentPage'] && 0 < totalPages) {
                    return totalPages;
                }
                else if (instance['currentPage'] < 1) {
                    return 1;
                }
                return instance['currentPage'];
            };
        /**
         * check if there is any instance registered with the id
         */
        /**
         * check if there is any instance registered with the id
         * @return {?}
         */
        AngularPaginatorDirective.prototype.isValidId = /**
         * check if there is any instance registered with the id
         * @return {?}
         */
            function () {
                if (!this._angularPaginatorService.getInstance(this.id)) {
                    throw new Error('There is no instance registered with id `' + this.id + '`');
                }
                return;
            };
        /**
         * @return {?}
         */
        AngularPaginatorDirective.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.isValidId();
                this.updatePages();
            };
        /**
         * @return {?}
         */
        AngularPaginatorDirective.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                /** destroy the subscription when the directive is destroyed */
                this.subscription.unsubscribe();
            };
        AngularPaginatorDirective.decorators = [
            { type: core.Directive, args: [{
                        selector: 'appAngularPaginator, [appAngularPaginator]',
                        exportAs: 'angularPaginator'
                    },] }
        ];
        /** @nocollapse */
        AngularPaginatorDirective.ctorParameters = function () {
            return [
                { type: AngularPaginatorService },
                { type: core.ChangeDetectorRef }
            ];
        };
        AngularPaginatorDirective.propDecorators = {
            boundaryLinks: [{ type: core.Input }],
            directionLinks: [{ type: core.Input }],
            maxSize: [{ type: core.Input }],
            rotate: [{ type: core.Input }],
            boundaryLinkNumbers: [{ type: core.Input }],
            forceEllipses: [{ type: core.Input }],
            id: [{ type: core.Input }],
            pageChange: [{ type: core.Output }]
        };
        return AngularPaginatorDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AngularPaginatorModule = /** @class */ (function () {
        function AngularPaginatorModule() {
        }
        AngularPaginatorModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule
                        ],
                        providers: [AngularPaginatorService],
                        declarations: [AngularPaginatorComponent, AngularPaginatorPipe, AngularPaginatorDirective],
                        exports: [AngularPaginatorComponent, AngularPaginatorPipe, AngularPaginatorDirective]
                    },] }
        ];
        return AngularPaginatorModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    exports.AngularPaginatorModule = AngularPaginatorModule;
    exports.ɵb = AngularPaginatorComponent;
    exports.ɵd = AngularPaginatorDirective;
    exports.ɵc = AngularPaginatorPipe;
    exports.ɵa = AngularPaginatorService;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1wYWdpbmF0b3IudW1kLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9hbmd1bGFyLXBhZ2luYXRvci9hcHAvYW5ndWxhci1wYWdpbmF0b3Ivc2VydmljZXMvYW5ndWxhci1wYWdpbmF0b3Iuc2VydmljZS50cyIsIm5nOi8vYW5ndWxhci1wYWdpbmF0b3IvYXBwL2FuZ3VsYXItcGFnaW5hdG9yL2FuZ3VsYXItcGFnaW5hdG9yLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhci1wYWdpbmF0b3IvYXBwL2FuZ3VsYXItcGFnaW5hdG9yL3BpcGVzL2FuZ3VsYXItcGFnaW5hdG9yLnBpcGUudHMiLCJuZzovL2FuZ3VsYXItcGFnaW5hdG9yL2FwcC9hbmd1bGFyLXBhZ2luYXRvci9kaXJlY3RpdmVzL2FuZ3VsYXItcGFnaW5hdG9yLmRpcmVjdGl2ZS50cyIsIm5nOi8vYW5ndWxhci1wYWdpbmF0b3IvYXBwL2FuZ3VsYXItcGFnaW5hdG9yL2FuZ3VsYXItcGFnaW5hdG9yLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFuZ3VsYXJQYWdpbmF0b3JJbnN0YW5jZSB9IGZyb20gJy4uL290aGVycy9hbmd1bGFyLXBhZ2luYXRvci5pbnRlcmZhY2UnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQW5ndWxhclBhZ2luYXRvclNlcnZpY2Uge1xuICAvKiogaWQgaXMgdXNlZCB0byBpZGVudGlmeSBwYWdpbmF0aW9uIGluc3RhbmNlcyAqL1xuICBpZCA9ICdBTkdVTEFSX1BBR0lOQVRPUl9ERUZBVUxUJztcblxuICAvKiogaW5zdGFuY2VzIGlzIHRoZSBjb2xsZWN0aW9uIG9mIHBhZ2luYXRpb24gY29tcG9uZXRucyAqL1xuICBpbnN0YW5jZXM6IGFueSA9IHt9O1xuXG4gIC8qKiBlbWl0cyBhbiBldmVudCB3aXRoIGluc3RhbmNlIGlkIHdoZW5ldmVyIHRoZSBwYWdlIG51bWJlciBjaGFuZ2VzICovXG4gIGNoYW5nZTogRXZlbnRFbWl0dGVyPHN0cmluZz4gPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIC8qKlxuICAgKiBjcmVhdGVzIGFuIGluc3RhbmNlIGZvciBldmVyeSBwaXBlIGRpZmZlcmVudGlhdGVkIHdpdGggaWRcbiAgICpcbiAgICogQHBhcmFtIGluc3RhbmNlIGVhY2ggaW5zdGFuY2UgcmVmZXJzIHRvIGEgdW5pcXVlIHBhZ2luYXRpb24gY29tcG9uZW50XG4gICAqL1xuICByZWdpc3Rlckluc3RhbmNlKGluc3RhbmNlOiBBbmd1bGFyUGFnaW5hdG9ySW5zdGFuY2UpOiB2b2lkIHtcblxuICAgIGlmICghdGhpcy5pbnN0YW5jZXNbaW5zdGFuY2UuaWRdKSB7XG4gICAgICB0aGlzLmluc3RhbmNlc1tpbnN0YW5jZS5pZF0gPSBpbnN0YW5jZTtcbiAgICAgIHRoaXMuY2hhbmdlLmVtaXQoaW5zdGFuY2UuaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjaGFuZ2VkID0gdGhpcy51cGRhdGVJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB0aGlzLmNoYW5nZS5lbWl0KGluc3RhbmNlLmlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogdXBkYXRlcyBleGlzdGluZyBwYWdpbmF0aW9uIGluc3RhbmNlcyBhdmFpbGFibGVcbiAgICogYW5kIHJldHVybnMgdHJ1ZSBpZiB2YWx1ZSBoYXMgY2hhbmdlZFxuICAgKlxuICAgKiBAcGFyYW0gaW5zdGFuY2UgYW4gdW5pcXVlIHBhZ2luYXRpb24gY29tcG9uZW50XG4gICAqL1xuICB1cGRhdGVJbnN0YW5jZShpbnN0YW5jZTogQW5ndWxhclBhZ2luYXRvckluc3RhbmNlKTogYm9vbGVhbiB7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZSkge1xuICAgICAgaWYgKGluc3RhbmNlW2tleV0gIT09IHRoaXMuaW5zdGFuY2VzW2luc3RhbmNlWydpZCddXVtrZXldKSB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VzW2luc3RhbmNlWydpZCddXVtrZXldID0gaW5zdGFuY2Vba2V5XTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiBpbnN0YW5jZSB3aXRoIGdpdmVuIGlkXG4gICAqXG4gICAqIEBwYXJhbSBpZCB1bmlxdWUgaWQgb2YgdGhlIHBhZ2luYXRpb24gY29tcG9uZW50XG4gICAqL1xuICBnZXRJbnN0YW5jZShpZDogc3RyaW5nKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXNbaWRdO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybiBjdXJyZW50UGFnZSBmb3IgZ2l2ZW4gaWRcbiAgICpcbiAgICogQHBhcmFtIGlkIHVuaXF1ZSBpZCBvZiB0aGUgcGFnaW5hdGlvbiBjb21wb25lbnRcbiAgICovXG4gIGdldEN1cnJlbnRQYWdlKGlkOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlc1tpZF0uY3VycmVudFBhZ2U7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbmd1bGFyUGFnaW5hdG9yU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvYW5ndWxhci1wYWdpbmF0b3Iuc2VydmljZSc7XG5cbi8qKlxuICogVGhlIGNvbXBvbmVudCB0aGF0IHJlbmRlcnMgdGhlIFBhZ2luYXRpb24gY29tcG9uZW50IHRlbXBsYXRlLCBJdCBhbHNvIGFjY2VwdHMgdGhlIGlucHV0cyBmb3IgdGhlIFBhZ2luYXRpb24gY29tcG9uZW50XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FwcC1hbmd1bGFyLXBhZ2luYXRvcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9hbmd1bGFyLXBhZ2luYXRvci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2FuZ3VsYXItcGFnaW5hdG9yLmNvbXBvbmVudC5zY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuXG5leHBvcnQgY2xhc3MgQW5ndWxhclBhZ2luYXRvckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZGlzcGxheSBGaXJzdCAvIExhc3QgYnV0dG9uc1xuICAgKi9cbiAgQElucHV0KCkgYm91bmRhcnlMaW5rcyA9IGZhbHNlO1xuICAvKipcbiAgICogV2hldGhlciB0byBkaXNwbGF5IFByZXZpb3VzIC8gTmV4dCBidXR0b25zXG4gICAqL1xuICBASW5wdXQoKSBkaXJlY3Rpb25MaW5rcyA9IHRydWU7XG4gIC8qKlxuICAgKiBMaW1pdCBudW1iZXIgZm9yIHBhZ2luYXRpb24gc2l6ZSwgaS5lLiwgdGhlIG1heGltdW0gcGFnZSBudW1iZXJzIHRvIGJlIGRpc3BsYXllZFxuICAgKi9cbiAgQElucHV0KCkgbWF4U2l6ZSA9IDU7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGtlZXAgY3VycmVudCBwYWdlIGluIHRoZSBtaWRkbGUgb2YgdGhlIHZpc2libGUgb25lc1xuICAgKi9cbiAgQElucHV0KCkgcm90YXRlID0gdHJ1ZTtcbiAgLyoqXG4gICAgKiBXaGV0aGVyIHRvIGFsd2F5cyBkaXNwbGF5IHRoZSBmaXJzdCBhbmQgbGFzdCBwYWdlIG51bWJlcnMuXG4gICAgKiBJZiBtYXgtc2l6ZSBpcyBzbWFsbGVyIHRoYW4gdGhlIG51bWJlciBvZiBwYWdlcywgdGhlbiB0aGUgZmlyc3QgYW5kIGxhc3QgcGFnZSBudW1iZXJzIGFyZSBzdGlsbCBzaG93biB3aXRoIGVsbGlwc2VzXG4gICAgKiBpbi1iZXR3ZWVuIGFzIG5lY2Vzc2FyeS4gTk9URTogbWF4LXNpemUgcmVmZXJzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHJhbmdlLlxuICAgICogVGhpcyBvcHRpb24gbWF5IGFkZCB1cCB0byAyIG1vcmUgbnVtYmVycyBvbiBlYWNoIHNpZGUgb2YgdGhlIGRpc3BsYXllZCByYW5nZSBmb3IgdGhlIGVuZCB2YWx1ZSBhbmRcbiAgICAqIHdoYXQgd291bGQgYmUgYW4gZWxsaXBzaXMgYnV0IGlzIHJlcGxhY2VkIGJ5IGEgbnVtYmVyIGJlY2F1c2UgaXQgaXMgc2VxdWVudGlhbFxuICAgICovXG4gIEBJbnB1dCgpIGJvdW5kYXJ5TGlua051bWJlcnMgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEFsc28gZGlzcGxheXMgZWxsaXBzZXMgd2hlbiByb3RhdGUgaXMgdHJ1ZSBhbmQgbWF4U2l6ZSBpcyBzbWFsbGVyIHRoYW4gdGhlIG51bWJlciBvZiBwYWdlcyBmb3JjZUVsbGlwc2VzXG4gICAqL1xuICBASW5wdXQoKSBmb3JjZUVsbGlwc2VzID0gZmFsc2U7XG4gIC8qKlxuICAgKiBVc2UgdW5pcXVlIGlkIHdoZW4gbXVsdGlwbGUgcGFnaW5hdGlvbnMgYXJlIGJlaW5nIHVzZWQgb24gdGhlIHNhbWUgcGFnZS4gQnkgRGVmYXVsdCBQYWdpbmF0b3IgdXNlcyBpZCBgQU5HVUxBUl9QQUdJTkFUT1JfREVGQVVMVGBcbiAgICovXG4gIEBJbnB1dCgpIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUZXh0IGZvciBmaXJzdCBidXR0b25cbiAgICovXG4gIEBJbnB1dCgpIGZpcnN0VGV4dCA9ICdGaXJzdCc7XG4gIC8qKlxuICAgKiBUZXh0IGZvciBwcmV2aW91cyBidXR0b25cbiAgICovXG4gIEBJbnB1dCgpIHByZXZpb3VzVGV4dCA9ICdQcmV2aW91cyc7XG4gIC8qKlxuICAgKiBUZXh0IGZvciBuZXh0IGJ1dHRvblxuICAgKi9cbiAgQElucHV0KCkgbmV4dFRleHQgPSAnTmV4dCc7XG4gIC8qKlxuICAgKiBUZXh0IGZvciBsYXN0IGJ1dHRvblxuICAgKi9cbiAgQElucHV0KCkgbGFzdFRleHQgPSAnTGFzdCc7XG4gIC8qKlxuICAgKiBTY3JlZW4gcmVhZGVyIHRleHQgZm9yIGZpcnN0IGJ1dHRvblxuICAgKi9cbiAgQElucHV0KCkgc2NyZWVuUmVhZGVyRmlyc3RUZXh0ID0gJ0ZpcnN0JztcbiAgLyoqXG4gICogU2NyZWVuIHJlYWRlciB0ZXh0IGZvciBwcmV2aW91cyBidXR0b25cbiAgKi9cbiAgQElucHV0KCkgc2NyZWVuUmVhZGVyUHJldmlvdXNUZXh0ID0gJ1ByZXZpb3VzJztcbiAgLyoqXG4gICogU2NyZWVuIHJlYWRlciB0ZXh0IGZvciBuZXh0IGJ1dHRvblxuICAqL1xuICBASW5wdXQoKSBzY3JlZW5SZWFkZXJOZXh0VGV4dCA9ICdOZXh0JztcbiAgLyoqXG4gICogU2NyZWVuIHJlYWRlciB0ZXh0IGZvciBsYXNyIGJ1dHRvblxuICAqL1xuICBASW5wdXQoKSBzY3JlZW5SZWFkZXJMYXN0VGV4dCA9ICdMYXN0JztcbiAgLyoqXG4gICogU2NyZWVuIHJlYWRlciB0ZXh0IGZvciBwYWdlIG51bWJlcnNcbiAgKi9cbiAgQElucHV0KCkgc2NyZWVuUmVhZGVyUGFnZVRleHQgPSAnUGFnZSc7XG4gIC8qKlxuICAqIFNjcmVlbiByZWFkZXIgdGV4dCBmb3IgY3VycmVudCBwYWdlXG4gICovXG4gIEBJbnB1dCgpIHNjcmVlblJlYWRlckN1cnJlbnRQYWdlVGV4dCA9ICdZb3VgcmUgb24gcGFnZSc7XG4gIC8qKlxuICAqIFNjcmVlbiByZWFkZXIgdGV4dCBmb3IgdGhlIHBhZ2luYXRpb24gY29tcG9uZW50XG4gICovXG4gIEBJbnB1dCgpIHNjcmVlblJlYWRlclBhZ2luYXRpb25MYWJlbCA9ICdQYWdpbmF0aW9uJztcbiAgLyoqXG4gICogQWRkcyBjdXN0b20gY2xhc3MgdG8gdGhlIHBhZ2luYXRpb24gZWxlbWVudFxuICAqL1xuICBASW5wdXQoKSBjbGFzc05hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBwYWdpbmF0aW9uIGNvbXBvbmVudCBpZiB0aGUgaXRlbXMgYXJlIGxlc3MgdGhhbiBgaXRlbXNQZXJQYWdlYFxuICAgKi9cbiAgQElucHV0KCkgYXV0b0hpZGUgPSBmYWxzZTtcbiAgLyoqXG4gICAqIGRpc2FibGVzIHBhZ2luYXRpb24gY29tcG9uZW50XG4gICAqL1xuICBASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBFbWl0cyBhbiBldmVudCB3aGVuZXZlciB0aGUgY3VycmVudCBwYWdlIGlzIGNoYW5nZWQsIEl0IGVtaXRzIHRoZSBjdXJyZW50IHBhZ2UgbnVtYmVyXG4gICAqXG4gICAqIFRoaXMgZXZlbnQgaXMgb3JpZ2luYWxseSBwaWNrZWQgdXAgZnJvbSBgQW5ndWxhclBhZ2luYXRvckRpcmVjdGl2ZWBcbiAgICovXG4gIEBPdXRwdXQoKSBwYWdlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXI8bnVtYmVyPigpO1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gX2FuZ3VsYXJQYWdpbmF0b3JTZXJ2aWNlIHNlcnZpY2UgZm9yIGFuZ3VsYXIgcGFnaW5hdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9hbmd1bGFyUGFnaW5hdG9yU2VydmljZTogQW5ndWxhclBhZ2luYXRvclNlcnZpY2UpIHsgfVxuXG4gIG5nT25Jbml0KCkge1xuXG4gICAgLy8gc2V0IGRlZmF1bHQgaWQgaWYgbm90IHByb3ZpZGVkXG4gICAgdGhpcy5pZCA9IHRoaXMuaWQgPyB0aGlzLmlkIDogdGhpcy5fYW5ndWxhclBhZ2luYXRvclNlcnZpY2UuaWQ7XG5cbiAgICAvLyBzZXQgZGVmYXVsdCBjbGFzcyBpZiBub3QgcHJvdmlkZWRcbiAgICB0aGlzLmNsYXNzTmFtZSA9IHRoaXMuY2xhc3NOYW1lID8gdGhpcy5jbGFzc05hbWUgOiB0aGlzLl9hbmd1bGFyUGFnaW5hdG9yU2VydmljZS5pZDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW5ndWxhclBhZ2luYXRvclNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9hbmd1bGFyLXBhZ2luYXRvci5zZXJ2aWNlJztcbmltcG9ydCB7IEFuZ3VsYXJQYWdpbmF0b3JJbnN0YW5jZSB9IGZyb20gJy4uL290aGVycy9hbmd1bGFyLXBhZ2luYXRvci5pbnRlcmZhY2UnO1xuXG4vKipcbiAqIFBhZ2luYXRpb24gUGlwZSB3aGljaCBwYWdpbmF0ZXMgdGhlIGFycmF5IGZvciB0aGUgcHJvdmlkZWQgYXJndW1lbnRzIHN1Y2ggYXMgYGl0ZW1zUGVyUGFnZWAgYW5kIGBjdXJyZW50UGFnZWBcbiAqL1xuQFBpcGUoe1xuICBuYW1lOiAnYW5ndWxhclBhZ2luYXRvcidcbn0pXG5cbmV4cG9ydCBjbGFzcyBBbmd1bGFyUGFnaW5hdG9yUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIF9hbmd1bGFyUGFnaW5hdG9yU2VydmljZSBzZXJ2aWNlIGZvciBhbmd1bGFyIHBhZ2lhbnRvclxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfYW5ndWxhclBhZ2luYXRvclNlcnZpY2U6IEFuZ3VsYXJQYWdpbmF0b3JTZXJ2aWNlKSB7IH1cblxuICAvKipcbiAgICogdGhpcyBwaXBlcyBwYWdpbmF0ZXMgdGhlIGFycmF5IGZvciB0aGUgcHJvdmlkZWQgYXJndW1lbnRzIHN1Y2ggYXMgYGl0ZW1zUGVyUGFnZWAgYW5kIGBjdXJyZW50UGFnZWBcbiAgICpcbiAgICogQHBhcmFtIGFycmF5IGlucHV0IGFycmF5IGZvciB3aGljaCB0aGUgbWFuaXB1bGF0aW9uIGhhcHBlbnNcbiAgICogQHBhcmFtIGFyZ3MgaW5wdXQgYXJndW1lbnRzIGZvciB0aGUgcGFnaW5hdG9yIHBpcGVcbiAgICovXG4gIHRyYW5zZm9ybShhcnJheTogYW55LCBhcmdzPzogYW55KTogYW55IHtcblxuICAgIGNvbnN0IGluc3RhbmNlOiBBbmd1bGFyUGFnaW5hdG9ySW5zdGFuY2UgPSB0aGlzLmNyZWF0ZUluc3RhbmNlKGFycmF5LCBhcmdzKTtcblxuICAgIC8vIGNyZWF0ZSBwYWdpbmF0aW9uIGluZm9ybWF0aW9uXG4gICAgdGhpcy5fYW5ndWxhclBhZ2luYXRvclNlcnZpY2UucmVnaXN0ZXJJbnN0YW5jZShpbnN0YW5jZSk7XG5cbiAgICAvLyBzZXQgdGhlIHNsaWNpbmcgcmFuZ2VcbiAgICBjb25zdCBzdGFydCA9IChpbnN0YW5jZS5jdXJyZW50UGFnZSAtIDEpICogaW5zdGFuY2UuaXRlbXNQZXJQYWdlO1xuICAgIGNvbnN0IGVuZCA9IGluc3RhbmNlLmN1cnJlbnRQYWdlICogaW5zdGFuY2UuaXRlbXNQZXJQYWdlO1xuXG4gICAgcmV0dXJuIGFycmF5LnNsaWNlKHN0YXJ0LCBlbmQpO1xuXG4gIH1cblxuICAvKipcbiAgICogY3JlYXRlIGFuIGluc3RhbmNlIGZvciBlYWNoIHBpcGVcbiAgICpcbiAgICogQHBhcmFtIGFycmF5IGlucHV0IGFycmF5IGZvciB3aGljaCB0aGUgbWFuaXB1bGF0aW9uIGhhcHBlbnNcbiAgICogQHBhcmFtIGFyZ3MgaW5wdXQgYXJndW1lbnRzIGZvciB0aGUgcGFnaW5hdG9yIHBpcGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKGFycmF5OiBhbnksIGFyZ3M6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBhcmdzWydpZCddID8gYXJncy5pZCA6IHRoaXMuX2FuZ3VsYXJQYWdpbmF0b3JTZXJ2aWNlLmlkLFxuICAgICAgY3VycmVudFBhZ2U6IGFyZ3NbJ2N1cnJlbnRQYWdlJ10gPyBhcmdzWydjdXJyZW50UGFnZSddIDogMSxcbiAgICAgIGl0ZW1zUGVyUGFnZTogYXJnc1snaXRlbXNQZXJQYWdlJ10gPyBhcmdzWydpdGVtc1BlclBhZ2UnXSA6IDEwLFxuICAgICAgdG90YWxJdGVtczogYXJyYXlbJ2xlbmd0aCddXG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBPbkluaXQsIE9uRGVzdHJveSwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW5ndWxhclBhZ2luYXRvclNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9hbmd1bGFyLXBhZ2luYXRvci5zZXJ2aWNlJztcbmltcG9ydCB7IEFuZ3VsYXJQYWdpbmF0b3JJbnN0YW5jZSwgUGFnZSB9IGZyb20gJy4uL290aGVycy9hbmd1bGFyLXBhZ2luYXRvci5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIGRpcmVjdGl2ZSB3aGVyZSB0aGUgYWN0dWFsIHBhZ2luYXRpb24gdGFrZXMgcGxhY2UsIGl0IHByb3ZpZGVzIGEgc3luYyBiZXR3ZWVuIHRoZVxuICogcGlwZXMgYW5kIHRoZSBwYWdpbmF0aW9uIGNvbXBvbmVudFxuICovXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdhcHBBbmd1bGFyUGFnaW5hdG9yLCBbYXBwQW5ndWxhclBhZ2luYXRvcl0nLFxuICBleHBvcnRBczogJ2FuZ3VsYXJQYWdpbmF0b3InXG59KVxuXG5leHBvcnQgY2xhc3MgQW5ndWxhclBhZ2luYXRvckRpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcblxuICAvKipcbiAgICogV2hldGhlciB0byBkaXNwbGF5IEZpcnN0IC8gTGFzdCBidXR0b25zXG4gICAqL1xuICBASW5wdXQoKSBib3VuZGFyeUxpbmtzOiBib29sZWFuO1xuICAvKipcbiAgKiBXaGV0aGVyIHRvIGRpc3BsYXkgUHJldmlvdXMgLyBOZXh0IGJ1dHRvbnNcbiAgKi9cbiAgQElucHV0KCkgZGlyZWN0aW9uTGlua3M6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBMaW1pdCBudW1iZXIgZm9yIHBhZ2luYXRpb24gc2l6ZSwgaS5lLiwgdGhlIG1heGltdW0gcGFnZSBudW1iZXJzIHRvIGJlIGRpc3BsYXllZFxuICAgKi9cbiAgQElucHV0KCkgbWF4U2l6ZTogbnVtYmVyO1xuICAvKipcbiAgICogV2hldGhlciB0byBrZWVwIGN1cnJlbnQgcGFnZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXNcbiAgICovXG4gIEBJbnB1dCgpIHJvdGF0ZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gYWx3YXlzIGRpc3BsYXkgdGhlIGZpcnN0IGFuZCBsYXN0IHBhZ2UgbnVtYmVycy5cbiAgICogSWYgbWF4LXNpemUgaXMgc21hbGxlciB0aGFuIHRoZSBudW1iZXIgb2YgcGFnZXMsIHRoZW4gdGhlIGZpcnN0IGFuZCBsYXN0IHBhZ2UgbnVtYmVycyBhcmUgc3RpbGwgc2hvd24gd2l0aCBlbGxpcHNlc1xuICAgKiBpbi1iZXR3ZWVuIGFzIG5lY2Vzc2FyeS4gTk9URTogbWF4LXNpemUgcmVmZXJzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHJhbmdlLlxuICAgKiBUaGlzIG9wdGlvbiBtYXkgYWRkIHVwIHRvIDIgbW9yZSBudW1iZXJzIG9uIGVhY2ggc2lkZSBvZiB0aGUgZGlzcGxheWVkIHJhbmdlIGZvciB0aGUgZW5kIHZhbHVlIGFuZFxuICAgKiB3aGF0IHdvdWxkIGJlIGFuIGVsbGlwc2lzIGJ1dCBpcyByZXBsYWNlZCBieSBhIG51bWJlciBiZWNhdXNlIGl0IGlzIHNlcXVlbnRpYWxcbiAgICovXG4gIEBJbnB1dCgpIGJvdW5kYXJ5TGlua051bWJlcnM6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBbHNvIGRpc3BsYXlzIGVsbGlwc2VzIHdoZW4gcm90YXRlIGlzIHRydWUgYW5kIG1heFNpemUgaXMgc21hbGxlciB0aGFuIHRoZSBudW1iZXIgb2YgcGFnZXMgZm9yY2VFbGxpcHNlc1xuICAgKi9cbiAgQElucHV0KCkgZm9yY2VFbGxpcHNlczogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFVzZSB1bmlxdWUgaWQgd2hlbiBtdWx0aXBsZSBwYWdpbmF0aW9ucyBhcmUgYmVpbmcgdXNlZCBvbiB0aGUgc2FtZSBwYWdlLiBCeSBEZWZhdWx0IFBhZ2luYXRvciB1c2VzIGlkIGBBTkdVTEFSX1BBR0lOQVRPUl9ERUZBVUxUYFxuICAgKi9cbiAgQElucHV0KCkgaWQ6IHN0cmluZztcblxuICBjdXJyZW50UGFnZTogbnVtYmVyO1xuICBmaXJzdFBhZ2UgPSAxO1xuICBsYXN0UGFnZTogbnVtYmVyO1xuICBwYWdlczogUGFnZVtdID0gW107XG5cbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb246IFN1YmplY3Q8YW55PiA9IG5ldyBTdWJqZWN0KCk7XG5cbiAgLyoqXG4gICAqIEVtaXRzIGFuIGV2ZW50IHdoZW5ldmVyIHRoZSBjdXJyZW50IHBhZ2UgaXMgY2hhbmdlZCwgSXQgZW1pdHMgdGhlIGN1cnJlbnQgcGFnZSBudW1iZXJcbiAgICovXG4gIEBPdXRwdXQoKSBwYWdlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXI8bnVtYmVyPih0cnVlKTtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIF9hbmd1bGFyUGFnaW5hdG9yU2VydmljZSBzZXJpdmNlIGZvciBhbmd1bGFyIHBhZ2luYXRvclxuICAgKiBAcGFyYW0gX2NoYW5nZURldGVjdG9yUmVmIGZvciBtYW51YWwgY2hhbmdlIGRldGVjdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfYW5ndWxhclBhZ2luYXRvclNlcnZpY2U6IEFuZ3VsYXJQYWdpbmF0b3JTZXJ2aWNlLFxuICAgIHByaXZhdGUgX2NoYW5nZURldGVjdG9yUmVmOiBDaGFuZ2VEZXRlY3RvclJlZikge1xuXG4gICAgLy8gc3Vic2NyaWJlIHRvIGNoYW5nZXNcbiAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHRoaXMuX2FuZ3VsYXJQYWdpbmF0b3JTZXJ2aWNlLmNoYW5nZS5zdWJzY3JpYmUoaWQgPT4ge1xuICAgICAgaWYgKGlkID09PSB0aGlzLmlkKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUGFnZXMoKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZSB0byBwcmV2b2l1cyBwYWdlXG4gICAqL1xuICB0b1ByZXZpb3VzUGFnZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+IHRoaXMuZmlyc3RQYWdlKSB7XG4gICAgICB0aGlzLnNldEN1cnJlbnRQYWdlKHRoaXMuY3VycmVudFBhZ2UgLSAxKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlIHRvIG5leHQgcGFnZVxuICAgKi9cbiAgdG9OZXh0UGFnZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA8IHRoaXMubGFzdFBhZ2UpIHtcbiAgICAgIHRoaXMuc2V0Q3VycmVudFBhZ2UodGhpcy5jdXJyZW50UGFnZSArIDEpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogTmF2aWdhdGUgdG8gZmlyc3QgcGFnZVxuICAgKi9cbiAgdG9GaXJzdFBhZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRDdXJyZW50UGFnZSh0aGlzLmZpcnN0UGFnZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlIHRvIGxhc3QgcGFnZVxuICAgKi9cbiAgdG9MYXN0UGFnZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNldEN1cnJlbnRQYWdlKHRoaXMubGFzdFBhZ2UpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGN1cnJlbnQgcGFnZVxuICAgKlxuICAgKiBAcGFyYW0gcGFnZSBwYWdlIG51bWJlciB0byBzZXQgYXMgY3VycmVudFBhZ2VcbiAgICovXG4gIHNldEN1cnJlbnRQYWdlKHBhZ2U6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChwYWdlICYmIHRoaXMuY3VycmVudFBhZ2UgIT09IHBhZ2UpIHtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlO1xuICAgICAgdGhpcy5wYWdlQ2hhbmdlLmVtaXQocGFnZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBjcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBmb3IgdGVtcGxhdGVcbiAgICpcbiAgICogQHBhcmFtIG51bWJlciBwYWdlIG51bWJlclxuICAgKiBAcGFyYW0gdGV4dCBwYWdlIG51bWJlciwgdGV4dCB0byBiZSBkaXNwbGF5ZWRcbiAgICogQHBhcmFtIGlzQWN0aXZlIHdoZXRoZXIgdGhlIHBhZ2UgaXMgYWN0aXZlIG9yIG5vdCwgdHJ1ZSBmb3IgY3VycmVudFBhZ2VcbiAgICovXG4gIG1ha2VQYWdlKG51bWJlcjogbnVtYmVyLCB0ZXh0OiBhbnksIGlzQWN0aXZlOiBib29sZWFuKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgbnVtYmVyOiBudW1iZXIsXG4gICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgYWN0aXZlOiBpc0FjdGl2ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogIGNyZWF0ZSBwYWdlIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSBjdXJyZW50UGFnZSBjdXJyZW50IHBhZ2UgbnVtYmVyXG4gICAqIEBwYXJhbSBpdGVtc1BlclBhZ2UgdG90YWwgaXRlbXMgcGVyIHBhZ2VcbiAgICogQHBhcmFtIHRvdGFsSXRlbXMgbm8gb2YgaXRlbXMgZm9yIHBhZ2luYXRpb24sIHVzdWFsbHkgYXJyYXkgbGVuZ3RoXG4gICAqL1xuICBnZXRQYWdlcyhjdXJyZW50UGFnZTogbnVtYmVyLCBpdGVtc1BlclBhZ2U6IG51bWJlciwgdG90YWxJdGVtczogbnVtYmVyKTogYW55IHtcbiAgICBjb25zdCBwYWdlczogYW55ID0gW107XG5cbiAgICAvLyBEZWZhdWx0IHBhZ2UgbGltaXRzXG4gICAgY29uc3QgdG90YWxQYWdlczogbnVtYmVyID0gdGhpcy5sYXN0UGFnZSA9IE1hdGguY2VpbCh0b3RhbEl0ZW1zIC8gaXRlbXNQZXJQYWdlKTtcblxuICAgIGxldCBzdGFydFBhZ2UgPSAxO1xuICAgIGxldCBlbmRQYWdlOiBudW1iZXIgPSB0b3RhbFBhZ2VzO1xuICAgIGNvbnN0IGlzTWF4U2l6ZWQ6IGJvb2xlYW4gPSB0aGlzLm1heFNpemUgJiYgdGhpcy5tYXhTaXplIDwgdG90YWxQYWdlcztcblxuICAgIC8vIHJlY29tcHV0ZSBpZiBtYXhTaXplXG4gICAgaWYgKGlzTWF4U2l6ZWQpIHtcblxuICAgICAgaWYgKHRoaXMucm90YXRlKSB7XG5cbiAgICAgICAgLy8gY3VycmVudCBwYWdlIGlzIGRpc3BsYXllZCBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXNcbiAgICAgICAgc3RhcnRQYWdlID0gTWF0aC5tYXgoY3VycmVudFBhZ2UgLSBNYXRoLmZsb29yKHRoaXMubWF4U2l6ZSAvIDIpLCAxKTtcbiAgICAgICAgZW5kUGFnZSA9IHN0YXJ0UGFnZSArIHRoaXMubWF4U2l6ZSAtIDE7XG5cbiAgICAgICAgLy8gQWRqdXN0IGlmIGxpbWl0IGlzIGV4Y2VlZGVkXG4gICAgICAgIGlmIChlbmRQYWdlID4gdG90YWxQYWdlcykge1xuICAgICAgICAgIGVuZFBhZ2UgPSB0b3RhbFBhZ2VzO1xuICAgICAgICAgIHN0YXJ0UGFnZSA9IGVuZFBhZ2UgLSB0aGlzLm1heFNpemUgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBWaXNpYmxlIHBhZ2VzIGFyZSBwYWdpbmF0ZWQgd2l0aCBtYXhTaXplXG4gICAgICAgIHN0YXJ0UGFnZSA9IChNYXRoLmNlaWwoY3VycmVudFBhZ2UgLyB0aGlzLm1heFNpemUpIC0gMSkgKiB0aGlzLm1heFNpemUgKyAxO1xuXG4gICAgICAgIC8vIGFkanVzdCBsYXN0IHBhZ2UgaWYgbGltaXQgaXMgZXhjZWVkZWRcbiAgICAgICAgZW5kUGFnZSA9IE1hdGgubWluKHN0YXJ0UGFnZSArIHRoaXMubWF4U2l6ZSAtIDEsIHRvdGFsUGFnZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCBwYWdlIG51bWJlciBsaW5rc1xuICAgIGZvciAobGV0IG51bWJlciA9IHN0YXJ0UGFnZTsgbnVtYmVyIDw9IGVuZFBhZ2U7IG51bWJlcisrKSB7XG4gICAgICBjb25zdCBwYWdlID0gdGhpcy5tYWtlUGFnZShudW1iZXIsIG51bWJlciwgbnVtYmVyID09PSBjdXJyZW50UGFnZSk7XG4gICAgICBwYWdlcy5wdXNoKHBhZ2UpO1xuICAgIH1cblxuICAgIC8vIGFkZCBsaW5rcyB0byBtb3ZlIGJldHdlZW4gcGFnZSBzZXRzXG4gICAgaWYgKGlzTWF4U2l6ZWQgJiYgdGhpcy5tYXhTaXplID4gMCAmJiAoIXRoaXMucm90YXRlIHx8IHRoaXMuZm9yY2VFbGxpcHNlcyB8fCB0aGlzLmJvdW5kYXJ5TGlua051bWJlcnMpKSB7XG4gICAgICBpZiAoc3RhcnRQYWdlID4gMSkge1xuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZGFyeUxpbmtOdW1iZXJzIHx8IHN0YXJ0UGFnZSA+IDMpIHsgLy8gbmVlZCBlbGxpcHNpcyBmb3IgYWxsIG9wdGlvbnMgdW5sZXNzIHJhbmdlIGlzIHRvbyBjbG9zZSB0byBiZWdpbm5pbmdcbiAgICAgICAgICBjb25zdCBwcmV2aW91c1BhZ2VTZXQgPSB0aGlzLm1ha2VQYWdlKHN0YXJ0UGFnZSAtIDEsICcuLi4nLCBmYWxzZSk7XG4gICAgICAgICAgcGFnZXMudW5zaGlmdChwcmV2aW91c1BhZ2VTZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYm91bmRhcnlMaW5rTnVtYmVycykge1xuXG4gICAgICAgICAgaWYgKHN0YXJ0UGFnZSA9PT0gMykgeyAvLyBuZWVkIHRvIHJlcGxhY2UgZWxsaXBzaXMgd2hlbiB0aGUgYnV0dG9ucyB3b3VsZCBiZSBzZXF1ZW50aWFsXG4gICAgICAgICAgICBjb25zdCBzZWNvbmRQYWdlTGluayA9IHRoaXMubWFrZVBhZ2UoMiwgJzInLCBmYWxzZSk7XG4gICAgICAgICAgICBwYWdlcy51bnNoaWZ0KHNlY29uZFBhZ2VMaW5rKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBhZGQgdGhlIGZpcnN0IHBhZ2VcbiAgICAgICAgICBjb25zdCBmaXJzdFBhZ2VMaW5rID0gdGhpcy5tYWtlUGFnZSgxLCAnMScsIGZhbHNlKTtcbiAgICAgICAgICBwYWdlcy51bnNoaWZ0KGZpcnN0UGFnZUxpbmspO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmRQYWdlIDwgdG90YWxQYWdlcykge1xuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZGFyeUxpbmtOdW1iZXJzIHx8IGVuZFBhZ2UgPCB0b3RhbFBhZ2VzIC0gMikgeyAvLyBuZWVkIGVsbGlwc2lzIGZvciBhbGwgb3B0aW9ucyB1bmxlc3MgcmFuZ2UgaXMgdG9vIGNsb3NlIHRvIGVuZFxuICAgICAgICAgIGNvbnN0IG5leHRQYWdlU2V0ID0gdGhpcy5tYWtlUGFnZShlbmRQYWdlICsgMSwgJy4uLicsIGZhbHNlKTtcbiAgICAgICAgICBwYWdlcy5wdXNoKG5leHRQYWdlU2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJvdW5kYXJ5TGlua051bWJlcnMpIHtcblxuICAgICAgICAgIGlmIChlbmRQYWdlID09PSB0b3RhbFBhZ2VzIC0gMikgeyAvLyBuZWVkIHRvIHJlcGxhY2UgZWxsaXBzaXMgd2hlbiB0aGUgYnV0dG9ucyB3b3VsZCBiZSBzZXF1ZW50aWFsXG4gICAgICAgICAgICBjb25zdCBzZWNvbmRUb0xhc3RQYWdlTGluayA9IHRoaXMubWFrZVBhZ2UodG90YWxQYWdlcyAtIDEsIHRvdGFsUGFnZXMgLSAxLCBmYWxzZSk7XG4gICAgICAgICAgICBwYWdlcy5wdXNoKHNlY29uZFRvTGFzdFBhZ2VMaW5rKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBhZGQgdGhlIGxhc3QgcGFnZVxuICAgICAgICAgIGNvbnN0IGxhc3RQYWdlTGluayA9IHRoaXMubWFrZVBhZ2UodG90YWxQYWdlcywgdG90YWxQYWdlcywgZmFsc2UpO1xuICAgICAgICAgIHBhZ2VzLnB1c2gobGFzdFBhZ2VMaW5rKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFnZXM7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcGFnaW5hdGlvbiBjb21wb25lbnRcbiAgICovXG4gIHVwZGF0ZVBhZ2VzKCk6IHZvaWQge1xuICAgIGNvbnN0IGluc3RhbmNlOiBBbmd1bGFyUGFnaW5hdG9ySW5zdGFuY2UgPSB0aGlzLl9hbmd1bGFyUGFnaW5hdG9yU2VydmljZS5nZXRJbnN0YW5jZSh0aGlzLmlkKTtcblxuICAgIGNvbnN0IGNvcnJlY3RlZEN1cnJlbnRQYWdlID0gdGhpcy5vdXRPZkJvdW5kQ29ycmVjdGlvbihpbnN0YW5jZSk7XG5cbiAgICBpZiAoY29ycmVjdGVkQ3VycmVudFBhZ2UgIT09IGluc3RhbmNlWydjdXJyZW50UGFnZSddIHx8IHRoaXMuY3VycmVudFBhZ2UgIT09IGluc3RhbmNlWydjdXJyZW50UGFnZSddKSB7XG4gICAgICB0aGlzLnNldEN1cnJlbnRQYWdlKGNvcnJlY3RlZEN1cnJlbnRQYWdlKTtcbiAgICB9XG5cbiAgICB0aGlzLnBhZ2VzID0gdGhpcy5nZXRQYWdlcyhpbnN0YW5jZS5jdXJyZW50UGFnZSwgaW5zdGFuY2UuaXRlbXNQZXJQYWdlLCBpbnN0YW5jZS50b3RhbEl0ZW1zKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjdXJyZW50UGFnZSBpcyBvdXQgb2YgYm91bmQgd2l0aCB0b3RhbFBhZ2VzXG4gICAqXG4gICAqIEBwYXJhbSBpbnN0YW5jZSBpbnN0YW5jZSBmb3Igd2hpY2ggdGhlIHJhbmdlIGlzIHRvIGJlIGNvcnJlY3RlZFxuICAgKi9cbiAgb3V0T2ZCb3VuZENvcnJlY3Rpb24oaW5zdGFuY2U6IEFuZ3VsYXJQYWdpbmF0b3JJbnN0YW5jZSk6IG51bWJlciB7XG5cbiAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKGluc3RhbmNlWyd0b3RhbEl0ZW1zJ10gLyBpbnN0YW5jZVsnaXRlbXNQZXJQYWdlJ10pO1xuXG4gICAgaWYgKHRvdGFsUGFnZXMgPCBpbnN0YW5jZVsnY3VycmVudFBhZ2UnXSAmJiAwIDwgdG90YWxQYWdlcykge1xuICAgICAgcmV0dXJuIHRvdGFsUGFnZXM7XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZVsnY3VycmVudFBhZ2UnXSA8IDEpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0YW5jZVsnY3VycmVudFBhZ2UnXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjaGVjayBpZiB0aGVyZSBpcyBhbnkgaW5zdGFuY2UgcmVnaXN0ZXJlZCB3aXRoIHRoZSBpZFxuICAgKi9cbiAgaXNWYWxpZElkKCk6IHZvaWQge1xuXG4gICAgaWYgKCF0aGlzLl9hbmd1bGFyUGFnaW5hdG9yU2VydmljZS5nZXRJbnN0YW5jZSh0aGlzLmlkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBpbnN0YW5jZSByZWdpc3RlcmVkIHdpdGggaWQgYCcgKyB0aGlzLmlkICsgJ2AnKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmlzVmFsaWRJZCgpO1xuICAgIHRoaXMudXBkYXRlUGFnZXMoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIC8qKiBkZXN0cm95IHRoZSBzdWJzY3JpcHRpb24gd2hlbiB0aGUgZGlyZWN0aXZlIGlzIGRlc3Ryb3llZCAqL1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBBbmd1bGFyUGFnaW5hdG9yQ29tcG9uZW50IH0gZnJvbSAnLi9hbmd1bGFyLXBhZ2luYXRvci5jb21wb25lbnQnO1xuaW1wb3J0IHsgQW5ndWxhclBhZ2luYXRvclBpcGUgfSBmcm9tICcuL3BpcGVzL2FuZ3VsYXItcGFnaW5hdG9yLnBpcGUnO1xuaW1wb3J0IHsgQW5ndWxhclBhZ2luYXRvckRpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlcy9hbmd1bGFyLXBhZ2luYXRvci5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgQW5ndWxhclBhZ2luYXRvclNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2FuZ3VsYXItcGFnaW5hdG9yLnNlcnZpY2UnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlXG4gIF0sXG4gIHByb3ZpZGVyczogW0FuZ3VsYXJQYWdpbmF0b3JTZXJ2aWNlXSxcbiAgZGVjbGFyYXRpb25zOiBbQW5ndWxhclBhZ2luYXRvckNvbXBvbmVudCwgQW5ndWxhclBhZ2luYXRvclBpcGUsIEFuZ3VsYXJQYWdpbmF0b3JEaXJlY3RpdmVdLFxuICBleHBvcnRzOiBbQW5ndWxhclBhZ2luYXRvckNvbXBvbmVudCwgQW5ndWxhclBhZ2luYXRvclBpcGUsIEFuZ3VsYXJQYWdpbmF0b3JEaXJlY3RpdmVdXG59KVxuXG5leHBvcnQgY2xhc3MgQW5ndWxhclBhZ2luYXRvck1vZHVsZSB7IH1cbiJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJJbmplY3RhYmxlIiwiQ29tcG9uZW50IiwiQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJJbnB1dCIsIk91dHB1dCIsIlBpcGUiLCJTdWJqZWN0IiwiRGlyZWN0aXZlIiwiQ2hhbmdlRGV0ZWN0b3JSZWYiLCJOZ01vZHVsZSIsIkNvbW1vbk1vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO1FBY0U7Ozs7c0JBUkssMkJBQTJCOzs7OzZCQUdmLEVBQUU7Ozs7MEJBR1ksSUFBSUEsaUJBQVksRUFBVTtTQUV4Qzs7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